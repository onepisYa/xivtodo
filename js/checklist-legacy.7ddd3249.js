"use strict";(self["webpackChunkxivtodo"]=self["webpackChunkxivtodo"]||[]).push([[13],{5090:function(e,t,s){s.r(t),s.d(t,{default:function(){return ae}});var i=s(9584),o=(s(8309),s(6252)),n=s(3577),l=s(9963),c={class:"container"},a={class:"d-flex align-items-end"},r={class:"me-auto"},h={key:0,class:"fs-3 fw-lighter"},d=(0,o._)("hr",null,null,-1),u={class:"row"},m=(0,o._)("h2",null,"Things to do",-1),k={class:"col-md"},y=(0,o._)("h3",null,"Weeklies",-1),p={class:"fw-lighter text-muted"},g={key:0,class:"input-group mt-3 mb-2"},f={class:"list-group list-group-flush"},w=(0,o._)("br",null,null,-1),D={class:"col-md"},C=(0,o._)("h3",null,"Dailies",-1),$={class:"fw-lighter text-muted"},_={key:0,class:"input-group mt-3 mb-2"},b={class:"list-group list-group-flush"},v=(0,o._)("br",null,null,-1),H={key:1,class:"text-muted fw-light float-end"},x=(0,o.Uk)(" 1 hidden task"),T=(0,o._)("br",null,null,-1),A=(0,o._)("br",null,null,-1),R=[x,T,A],W={key:2,class:"text-muted fw-light float-end"},U=(0,o._)("br",null,null,-1),I=(0,o._)("br",null,null,-1),q={key:2,class:"row"},M={class:"col"},Z=(0,o._)("h3",null,"Scratchpad",-1),j=(0,o._)("span",{class:"fw-lighter text-muted"},"Checklist without deadlines",-1),z={key:0,class:"input-group mt-3 mb-2"},N={class:"list-group list-group-flush"},V=(0,o._)("br",null,null,-1);function Y(e,t,s,x,T,A){var Y=(0,o.up)("AlertMsg"),G=(0,o.up)("ChecklistItem");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("h1",a,[(0,o._)("span",r,[(0,o.Uk)((0,n.zw)(e.$t("page.checklist"))+" ",1),this.$store.getters.hasCharacter?((0,o.wg)(),(0,o.iD)("span",h,(0,n.zw)(e.$t("message.forCharacter",{characterName:this.$store.getters.character.Name})),1)):(0,o.kq)("",!0)]),this.$store.getters.hasCharacter?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:(0,n.C_)(["btn float-end",{"btn-outline-success":!T.showHidden,"btn-success":T.showHidden}]),onClick:t[0]||(t[0]=function(e){return T.showHidden=!T.showHidden})}," Customize ",2)):(0,o.kq)("",!0)]),this.$store.getters.userData?this.$store.getters.hasCharacter?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Y,{key:1,type:"normal",msg:"No characters found. You can add your characters from the <a href='/settings' class='alert-link'>Settings</a>."})):((0,o.wg)(),(0,o.j4)(Y,{key:0,type:"normal",msg:"No characters found. You can <a href='"+this.$store.state.env.VUE_APP_DISCORD_AUTH_URI+"' class='alert-link'>sign in with Discord</a> to add them."},null,8,["msg"])),d,(0,o._)("div",u,[m,(0,o._)("div",k,[y,(0,o._)("span",p,(0,n.zw)(T.weeklyReset)+" until reset",1),T.showHidden?((0,o.wg)(),(0,o.iD)("div",g,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return T.customWeekly=e}),type:"text",class:"form-control",placeholder:"Custom weekly"},null,512),[[l.nr,T.customWeekly]]),(0,o._)("button",{class:(0,n.C_)(["btn btn-outline-success",{disabled:!T.customWeekly}]),type:"button",id:"button-addon2",onClick:t[2]||(t[2]=function(){return A.addCustomWeekly&&A.addCustomWeekly.apply(A,arguments)})}," Add custom weekly ",2)])):(0,o.kq)("",!0),(0,o._)("ul",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.Z)(this.$store.getters.checklistWeeklies),(function(e){return(0,o.wg)(),(0,o.j4)(G,{key:e.name,item:e,type:"weekly",showHidden:T.showHidden},null,8,["item","showHidden"])})),128))]),w]),(0,o._)("div",D,[C,(0,o._)("span",$,(0,n.zw)(T.dailyReset)+" until reset",1),T.showHidden?((0,o.wg)(),(0,o.iD)("div",_,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.customDaily=e}),type:"text",class:"form-control",placeholder:"Custom daily"},null,512),[[l.nr,T.customDaily]]),(0,o._)("button",{class:(0,n.C_)(["btn btn-outline-success",{disabled:!T.customDaily}]),type:"button",id:"button-addon2",onClick:t[4]||(t[4]=function(){return A.addCustomDaily&&A.addCustomDaily.apply(A,arguments)})}," Add custom daily ",2)])):(0,o.kq)("",!0),(0,o._)("ul",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.Z)(this.$store.getters.checklistDailies),(function(e){return(0,o.wg)(),(0,o.j4)(G,{key:e.ID,item:e,type:"daily",showHidden:T.showHidden},null,8,["item","showHidden"])})),128))]),v,1==this.$store.getters.checklistLenHiddens?((0,o.wg)(),(0,o.iD)("span",H,R)):this.$store.getters.checklistLenHiddens>1?((0,o.wg)(),(0,o.iD)("span",W,[(0,o.Uk)((0,n.zw)(this.$store.getters.checklistLenHiddens)+" hidden tasks",1),U,I])):(0,o.kq)("",!0)])]),T.showHidden||this.$store.getters.checklistAdhocs.length>0?((0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("div",M,[Z,j,T.showHidden?((0,o.wg)(),(0,o.iD)("div",z,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return T.customAdhoc=e}),type:"text",class:"form-control",placeholder:"Custom item"},null,512),[[l.nr,T.customAdhoc]]),(0,o._)("button",{class:(0,n.C_)(["btn btn-outline-success",{disabled:!T.customAdhoc}]),type:"button",id:"button-addon2",onClick:t[6]||(t[6]=function(){return A.addCustomAdhoc&&A.addCustomAdhoc.apply(A,arguments)})}," Add custom item ",2)])):(0,o.kq)("",!0),(0,o._)("ul",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.Z)(this.$store.getters.checklistAdhocs),(function(e){return(0,o.wg)(),(0,o.j4)(G,{key:e.ID,item:e,type:"adhoc",showHidden:T.showHidden},null,8,["item","showHidden"])})),128))]),V])])):(0,o.kq)("",!0)])}s(2222);var G=s(6903),S={key:0,class:"list-group-item list-group-item-action d-flex justify-content-between align-items-center user-select-none"},K=["id"],L=(0,o.Uk)("   "),O={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},P={key:0},B=(0,o._)("span",{class:"tt-text"},"Remove",-1),E=[B],F=(0,o._)("span",{class:"tt-text"},"Show",-1),J=[F],Q=(0,o._)("span",{class:"tt-text"},"Hide",-1),X=[Q];function ee(e,t,s,i,c,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[c.itemCopy.hidden||s.showHidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("label",S,[(0,o._)("span",null,[!s.showHidden&&this.$store.getters.hasCharacter?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.itemCopy.checked=e}),class:(0,n.C_)([{"checkbox-checked":c.itemCopy.checked},"form-check-input"]),type:"checkbox",id:s.item.name,onChange:t[1]||(t[1]=function(){return a.check&&a.check.apply(a,arguments)})},null,42,K)),[[l.e8,c.itemCopy.checked]]):(0,o.kq)("",!0),L,(0,o._)("span",{class:(0,n.C_)({"checklist-checked":c.itemCopy.checked})},(0,n.zw)(s.item.name),3)])])),s.showHidden?((0,o.wg)(),(0,o.iD)("span",O,[(0,o._)("span",{class:(0,n.C_)([{"text-muted":c.itemCopy.hidden},"user-select-none"])},(0,n.zw)(s.item.name),3),s.showHidden?((0,o.wg)(),(0,o.iD)("span",P,[s.item.custom?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"bi-trash text-danger cursor-pointer tt",onClick:t[2]||(t[2]=function(){return a.remove&&a.remove.apply(a,arguments)})},E)):c.itemCopy.hidden?((0,o.wg)(),(0,o.iD)("a",{key:1,class:"bi-eye-slash text-secondary cursor-pointer tt",onClick:t[3]||(t[3]=function(){return a.hid&&a.hid.apply(a,arguments)})},J)):c.itemCopy.hidden?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("a",{key:2,class:"bi-eye text-success cursor-pointer tt",onClick:t[4]||(t[4]=function(){return a.hid&&a.hid.apply(a,arguments)})},X))])):(0,o.kq)("",!0)])):(0,o.kq)("",!0)],64)}s(561);var te=s(9026),se={data:function(){return{itemCopy:this.item}},props:{item:Object,type:String,showHidden:Boolean},watch:{item:function(){this.itemCopy=this.item}},methods:{hid:function(){this.itemCopy.hidden=!this.itemCopy.hidden,this.updateItem(!1)},check:function(){this.updateItem(!1)},remove:function(){this.updateItem(!0)},updateItem:function(e){if(this.$store.getters.hasCharacter){if("weekly"==this.type){for(var t=this.$store.getters.checklistWeeklies,s=0;s<t.length;s++)t[s].name==this.item.name&&(t[s]=this.itemCopy,e&&t.splice(s,1));this.$store.commit("setChecklistWeeklies",t)}if("daily"==this.type){for(var i=this.$store.getters.checklistDailies,o=0;o<i.length;o++)i[o].name==this.item.name&&(i[o]=this.itemCopy,e&&i.splice(o,1));this.$store.commit("setChecklistDailies",i)}if("adhoc"==this.type){for(var n=this.$store.getters.checklistAdhocs,l=0;l<n.length;l++)n[l].name==this.item.name&&(n[l]=this.itemCopy,e&&n.splice(l,1));this.$store.commit("setChecklistAdhocs",n)}var c=this.$store.getters.lodestoneData.Character.ID;(0,te.Ge)(c,this.$store.getters.checklistData)}}}},ie=s(3744);const oe=(0,ie.Z)(se,[["render",ee]]);var ne=oe,le={name:"ChecklistView",data:function(){return{showHidden:!1,weeklyReset:this.formatTimeDiff(this.weeklyResetTime(),!0),dailyReset:this.formatTimeDiff(this.dailyResetTime(),!1),customWeekly:"",customDaily:"",customAdhoc:""}},components:{AlertMsg:G.Z,ChecklistItem:ne},mounted:function(){var e=this;this.$nextTick((function(){this.resetDailliesWeeklies()})),setInterval((function(){e.resetDailliesWeeklies()}),1e3)},methods:{weeklyResetTime:function(){var e=new Date,t=new Date;t.setUTCHours(8,0,0),t.setUTCDate(e.getUTCDate()+(9-e.getUTCDay()));var s=t-e,i=6048e5;return s%i+e.getTime()},dailyResetTime:function(){var e=new Date,t=new Date;t.setUTCHours(15,0,0),t.setUTCDate(t.getUTCDate()+1);var s=t-e,i=864e5;return s%i+e.getTime()},formatTimeDiff:function(e,t){var s=new Date,i=e-s,o=864e5,n=36e5,l=6e4,c=1e3,a=Math.floor(i/o),r=Math.floor(i/n)-24*Math.floor(i/o),h=Math.floor(i/l)-60*Math.floor(i/n),d=Math.floor(i/c)-60*Math.floor(i/l);return a>0&&t?"".concat(a,"d ").concat(r,"h"):r>0?"".concat(r,"h ").concat(h,"m"):"".concat(h,"m ").concat(d,"s")},resetDailliesWeeklies:function(){this.weeklyReset=this.formatTimeDiff(this.weeklyResetTime(),!0),this.dailyReset=this.formatTimeDiff(this.dailyResetTime(),!1);var e=!1;if(this.$store.getters.hasCharacter){if(this.$store.getters.checklistNextWeeklyReset<Date.now()){e=!0,this.$store.commit("checklistNextWeeklyReset",this.weeklyResetTime());for(var t=this.$store.getters.checklistWeeklies,s=0;s<t.length;s++)t[s].checked=!1}if(this.$store.getters.checklistNextDailyReset<Date.now()){e=!0,this.$store.commit("checklistNextDailyReset",this.dailyResetTime());for(var i=this.$store.getters.checklistDailies,o=0;o<i.length;o++)i[o].checked=!1}if(e){var n=this.$store.getters.lodestoneData.Character.ID;(0,te.Ge)(n,this.$store.getters.checklistData)}}},addCustomWeekly:function(){var e={name:this.customWeekly,custom:!0,checked:!1,hidden:!1},t=(0,i.Z)(this.$store.getters.checklistWeeklies);t.push(e),this.$store.commit("setChecklistWeeklies",t),this.customWeekly="";var s=this.$store.getters.lodestoneData.Character.ID;(0,te.Ge)(s,this.$store.getters.checklistData)},addCustomDaily:function(){var e={name:this.customDaily,custom:!0,checked:!1,hidden:!1},t=(0,i.Z)(this.$store.getters.checklistDailies);t.push(e),this.$store.commit("setChecklistDailies",t),this.customDaily="";var s=this.$store.getters.lodestoneData.Character.ID;(0,te.Ge)(s,this.$store.getters.checklistData)},addCustomAdhoc:function(){var e={name:this.customAdhoc,custom:!0,checked:!1,hidden:!1},t=(0,i.Z)(this.$store.getters.checklistAdhocs);t.push(e),this.$store.commit("setChecklistAdhocs",t),this.customAdhoc="";var s=this.$store.getters.lodestoneData.Character.ID;(0,te.Ge)(s,this.$store.getters.checklistData)}}};const ce=(0,ie.Z)(le,[["render",Y]]);var ae=ce}}]);
//# sourceMappingURL=checklist-legacy.7ddd3249.js.map