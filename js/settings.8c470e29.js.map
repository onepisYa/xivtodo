{"version":3,"file":"js/settings.8c470e29.js","mappings":"iMACOA,MAAM,a,GAGTC,EAAAA,EAAAA,GAAM,mB,GACAC,KAAK,gBAAgBC,GAAG,iB,GACvBH,MAAM,O,GACJA,MAAM,Y,GACTC,EAAAA,EAAAA,GAAmB,UAAf,cAAU,G,GAEdA,EAAAA,EAAAA,GAA4B,UAAxB,uBAAmB,G,GAClBD,MAAM,Q,GACTC,EAAAA,EAAAA,GAAoE,SAA7DG,IAAI,mBAAmBJ,MAAM,cAAa,eAAW,G,GAQ5DC,EAAAA,EAAAA,GASM,OATDD,MAAM,aAAW,UAAC,6DAErBC,EAAAA,EAAAA,GAMC,KALCD,MAAM,aACNK,KAAK,sDACLC,OAAO,SACPC,IAAI,uBACH,cAPiB,QAQnB,QARH,G,SAaAC,KAAK,SACLL,GAAG,oBACHH,MAAM,kBACNS,SAAA,I,GAEAR,EAAAA,EAAAA,GAAuF,QAAjFD,MAAM,mCAAmCU,KAAK,SAAS,cAAY,QAAzE,S,WAAuF,4B,GAAvFC,EAAAA,G,GAaFV,EAAAA,EAAAA,GAAM,mB,GAAAA,EAAAA,EAAAA,GAAM,mB,GAEZA,EAAAA,EAAAA,GAAwB,UAApB,mBAAe,G,SAC0BD,MAAM,+B,GACjDC,EAAAA,EAAAA,GAEK,MAFDD,MAAM,oEAAmE,0DAE7E,G,GAFAY,G,SAISZ,MAAM,+B,GAMRA,MAAM,gB,aAOJa,MAAA,gB,GACGb,MAAM,W,GAEZC,EAAAA,EAAAA,GAAM,mB,SAMJD,MAAM,sB,GAENC,EAAAA,EAAAA,GAAkE,OAA7DD,MAAM,mCAAmCU,KAAK,UAAnD,S,WAAkE,gC,GAAlEI,EAAAA,G,SAGWd,MAAM,uB,SAOfA,MAAM,gB,GAENC,EAAAA,EAAAA,GAAM,mB,GACNA,EAAAA,EAAAA,GAIO,QAHLc,MAAM,4EACP,iCAED,G,GALAC,EACAC,G,iBAcNhB,EAAAA,EAAAA,GAAwC,QAAlCD,MAAM,WAAU,eAAW,G,GAAjCkB,G,WACE,Q,iBAOFjB,EAAAA,EAAAA,GAA6C,QAAvCD,MAAM,WAAU,oBAAgB,G,GAAtCmB,G,GAINlB,EAAAA,EAAAA,GAAM,mB,GAEHD,MAAM,Y,GACTC,EAAAA,EAAAA,GAAgB,UAAZ,WAAO,G,GACXA,EAAAA,EAAAA,GAAyB,UAArB,oBAAgB,G,GACfD,MAAM,c,GASTC,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,mBAAmBI,IAAI,wBAAuB,qDAE3D,G,IAEGJ,MAAM,c,IASTC,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,mBAAmBI,IAAI,wBAAuB,2CAE3D,G,IAEGJ,MAAM,c,IASTC,EAAAA,EAAAA,GAAsF,SAA/ED,MAAM,mBAAmBI,IAAI,wBAAuB,uBAAmB,G,IAEhFH,EAAAA,EAAAA,GAAqE,OAAhED,MAAM,aAAY,4CAAwC,G,IAC/DC,EAAAA,EAAAA,GAAM,mB,UAGJO,KAAK,SACLL,GAAG,oBACHH,MAAM,kBACNS,SAAA,I,IAEAR,EAAAA,EAAAA,GAAuF,QAAjFD,MAAM,mCAAmCU,KAAK,SAAS,cAAY,QAAzE,S,YAAuF,8B,IAAvFU,GAAAA,I,IAYFnB,EAAAA,EAAAA,GAAM,mB,IAAAA,EAAAA,EAAAA,GAAM,mB,wEAxLpBoB,EAAAA,EAAAA,IA4LM,MA5LN,EA4LM,EA3LJpB,EAAAA,EAAAA,GAAkC,WAAAqB,EAAAA,EAAAA,IAA3BC,EAAAA,GAAE,qBACOC,EAAAA,MAAMC,MAAAA,EAAAA,EAAAA,OAAtBC,EAAAA,EAAAA,IAAiEC,EAAA,C,MAArCnB,KAAMgB,EAAAA,MAAMhB,KAAOiB,IAAKD,EAAAA,MAAMC,KAA1D,wCACAG,GACA3B,EAAAA,EAAAA,GAuLO,OAvLP,EAuLO,EAtLLA,EAAAA,EAAAA,GAqLM,MArLN,EAqLM,EApLJA,EAAAA,EAAAA,GAoHM,MApHN,EAoHM,CAnHJ4B,EAEAC,GACA7B,EAAAA,EAAAA,GAmBM,MAnBN,EAmBM,CAlBJ8B,GAkBI,SAjBJ9B,EAAAA,EAAAA,GAME,S,qCALSuB,EAAAA,WAAUQ,GACnBxB,KAAK,OACLR,MAAM,eACNG,GAAG,mBACH8B,YAAY,6DALd,iBACWT,EAAAA,cAMXU,IAYMV,EAAAA,SAAAA,EAAAA,EAAAA,OADRH,EAAAA,EAAAA,IASS,SATT,EASSc,MATT,WAUAd,EAAAA,EAAAA,IASS,U,MAPNe,QAAK,oBAAEC,EAAAA,cAAAA,EAAAA,gBAAAA,IACR7B,KAAK,SACLL,GAAG,oBACHH,OAAK,SAAC,kBAAiB,CAAAS,UACFe,EAAAA,eACtB,kBAED,IACAc,EAAMC,EAENC,EAsEI,KArEYC,OAAOC,QAAQC,eAA/B,WAKAtB,EAAAA,EAAAA,IA8DK,KA9DL,EA8DK,gBA7DHA,EAAAA,EAAAA,IA4DKuB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAAA,KA3DsBJ,OAAOC,QAAQI,YAAU,CAA1CC,EAAMC,M,WADhB3B,EAAAA,EAAAA,IA4DK,MA1DF4B,IAAKF,EAAKG,GACXlD,MAAM,oEAHR,EAKEC,EAAAA,EAAAA,GAuCM,MAvCN,EAuCM,EAtCJA,EAAAA,EAAAA,GAKE,OAJAY,MAAA,6CACAb,MAAM,cACLmD,IAAKJ,EAAKK,cAAcC,UAAUC,OACnCC,IAAI,8BAJN,WAMAtD,EAAAA,EAAAA,GA+BM,MA/BN,EA+BM,EA9BJA,EAAAA,EAAAA,GAAoE,OAApE,GAAoEqB,EAAAA,EAAAA,IAA3CyB,EAAKK,cAAcC,UAAUG,MAAI,IA8BtD,QA9BgE,OAClElC,EAAAA,EAAAA,IAAGyB,EAAKK,cAAcC,UAAUI,OAAQ,IAC1C,GAAAC,EA4BI,KA1BgCC,UAAYZ,EAAKK,cAAcC,UAAUH,IAAAA,KAAiCT,OAAOC,QAAQkB,mBAAmBZ,KAAAA,EAAAA,EAAAA,OADhJ3B,EAAAA,EAAAA,IASO,OATP,EASOwC,MATP,WAUAxC,EAAAA,EAAAA,IAgBO,OAhBP,EAgBO,UAhBkC,kBAC1BC,EAAAA,EAAAA,IAAGe,EAAAA,cAAcU,EAAKe,UAAW,IAC9C,GACkCf,EAAKK,cAAcW,cAA8E,GAAtChB,EAAKK,cAAcW,aAAaC,QAD7H,iBACmI,WADnI3C,EAAAA,EAAAA,IAaO,OAbP,EAaO4C,WAKJzC,EAAAA,UAAQ,KAAUiB,OAAOC,QAAQkB,mBAAmBZ,IAD7D,iBACiB,WADjB3B,EAAAA,EAAAA,IAMI,K,MAJFrB,MAAM,mDACLoC,QAAK,GAAEC,EAAAA,gBAAgBU,EAAKK,cAAcC,UAAUH,KAHvD,UASS1B,EAAAA,UADT,iBACSA,EAAAA,EAAAA,OADTH,EAAAA,EAAAA,IAMI,K,MAJFrB,MAAM,yCACLoC,QAAK,GAAEC,EAAAA,gBAAgBW,IAH1B,aArDF,WAN6BL,EAAAA,EAAAA,OAA/BtB,EAAAA,EAAAA,IAIK,KAJL,EAIK6C,IAgELC,KAEFlE,EAAAA,EAAAA,GA8DM,MA9DN,EA8DM,CA7DJmE,EACAC,GACApE,EAAAA,EAAAA,GAYM,MAZN,EAYM,WAXJA,EAAAA,EAAAA,GAOE,S,qCANSuB,EAAAA,SAAS8C,eAActC,GAChChC,MAAM,mBACNQ,KAAK,QACLN,KAAK,sBACLC,GAAG,uBACFoE,MAAO,GANV,iBACW/C,EAAAA,SAAS8C,kBAOpBE,KAIFvE,EAAAA,EAAAA,GAYM,MAZN,GAYM,WAXJA,EAAAA,EAAAA,GAOE,S,qCANSuB,EAAAA,SAAS8C,eAActC,GAChChC,MAAM,mBACNQ,KAAK,QACLN,KAAK,sBACLC,GAAG,uBACFoE,MAAO,GANV,iBACW/C,EAAAA,SAAS8C,kBAOpBG,MAIFxE,EAAAA,EAAAA,GAUM,MAVN,GAUM,WATJA,EAAAA,EAAAA,GAOE,S,qCANSuB,EAAAA,SAAS8C,eAActC,GAChChC,MAAM,mBACNQ,KAAK,QACLN,KAAK,sBACLC,GAAG,uBACFoE,MAAO,GANV,iBACW/C,EAAAA,SAAS8C,kBAOpBI,KAEFC,GACAC,GAEQpD,EAAAA,mBAAAA,EAAAA,EAAAA,OADRH,EAAAA,EAAAA,IASS,SATT,GASSwD,OATT,WAUAxD,EAAAA,EAAAA,IAQS,U,MANNe,QAAK,oBAAEC,EAAAA,gBAAAA,EAAAA,kBAAAA,IACR7B,KAAK,SACLL,GAAG,oBACHH,MAAM,mBACP,sBAGD8E,GAAMC,W,uBAmBhB,IACE7E,KAAM,eACN8E,OACE,MAAO,CACLC,QAAQ,EACRC,kBAAkB,EAClBvB,SAAU,EACVwB,MAAO,GACPC,WAAY,GACZC,SAAU,IAAKC,KAAK7C,OAAOC,QAAQ2C,YAGvCE,WAAY,CACVC,SAAAA,GAAAA,GAEFC,QAAS,CACPC,iBACEJ,KAAKJ,kBAAmB,EACxBI,KAAKH,MAAQ,IAEbO,EAAAA,GAAAA,IAAeJ,KAAKD,UACjBM,MAAMC,IACLN,KAAK7C,OAAOoD,OAAO,cAAeD,GAElCN,KAAKH,MAAQ,CACX3E,KAAM,UACNiB,IAAM,wBAGTqE,OAAOC,IACNT,KAAKH,MAAQ,CACX3E,KAAM,QACNiB,IAAM,kCAAiCsE,QAG1CC,SAAQ,KACPV,KAAKJ,kBAAmB,MAG9Be,eACEX,KAAKL,QAAS,EACdK,KAAKH,MAAQ,GAETG,KAAKF,WAAWc,SAAS,OAAMZ,KAAKF,WAAaE,KAAKF,WAAWe,MAAM,GAAI,IAC/E,IAAIC,EAAcd,KAAKF,WAAWiB,MAAM,KAAKF,OAAO,GAAGG,OAEvDL,EAAAA,GAAAA,IAAaG,GACVT,MAAMY,IACLjB,KAAK7C,OAAOoD,OAAO,eAAgBU,GAGhCA,EAAcnD,cAAcW,cACsB,GAAnDwC,EAAcnD,cAAcW,aAAaC,OAOzCsB,KAAKH,MAAQ,CACX3E,KAAM,UACNiB,IAAM,gBAAe8E,EAAcnD,cAAcC,UAAUG,iIAP7D8B,KAAKH,MAAQ,CACX3E,KAAM,UACNiB,IAAM,gBAAe8E,EAAcnD,cAAcC,UAAUG,oRAShEsC,OAAOC,IACNS,QAAQC,IAAIV,GACZT,KAAKH,MAAQ,CAAE3E,KAAM,QAASiB,IAAKsE,EAAIW,eAExCV,SAAQ,KACPV,KAAKF,WAAa,GAClBE,KAAKL,QAAS,MAGpB0B,gBAAgBP,GACdd,KAAK3B,SAAWyC,EAChBd,KAAKH,MAAQ,IAEbc,EAAAA,GAAAA,IAAaG,GACVT,MAAMY,IACLjB,KAAK7C,OAAOoD,OAAO,eAAgBU,MAEpCT,OAAOC,IACNS,QAAQC,IAAIV,GACZT,KAAKH,MAAQ,CAAE3E,KAAM,QAASiB,IAAKsE,EAAIW,eAExCV,SAAQ,KACPV,KAAKF,WAAa,GAClBE,KAAK3B,SAAW,SAGtBiD,gBAAgBzG,GACdmF,KAAK3B,UAAW,EAChB2B,KAAKH,MAAQ,GAEb,IAAIiB,EAAcd,KAAK7C,OAAOC,QAAQI,WAAW3C,GAAIiD,cAAcC,UAAUH,GACzE2D,EAAgBvB,KAAK7C,OAAOC,QAAQI,WAAW3C,GAAIiD,cAAcC,UAAUG,MAE/EoD,EAAAA,GAAAA,IAAgBR,GACbT,MAAK,KACJL,KAAK7C,OAAOoD,OAAO,kBAAmB1F,GAEtCmF,KAAKH,MAAQ,CACX3E,KAAM,UACNiB,IAAM,gBAAeoF,qBAGxBf,OAAOC,IACNS,QAAQC,IAAIV,GACZT,KAAKH,MAAQ,CAAE3E,KAAM,QAASiB,IAAKsE,EAAIW,eAExCV,SAAQ,KACPV,KAAK3B,UAAW,MAGtBmD,cAAcC,GACZ,IAAIC,EAAM,IAAIC,KAAS,IACnBC,EAAOF,EAAMD,EACbI,EAASC,KAAKC,MAAMH,EAAG,QACvBI,EAAOF,KAAKC,MAAMH,EAAG,OACrBK,EAAQH,KAAKC,MAAMH,EAAG,MACtBM,EAAUJ,KAAKC,MAAMH,EAAO,IAEhC,OAAIM,EAAU,EAAU,uBACfA,EAAU,IAAYA,EAAU,eAChCD,EAAQ,GAAWA,EAAQ,aAC3BD,EAAO,GAAWA,EAAO,YACtBH,EAAS,iB,UCpU3B,MAAMM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,MAEpE","sources":["webpack://xivtodo/./src/views/Settings.vue","webpack://xivtodo/./src/views/Settings.vue?4351"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>{{ $t(\"page.settings\") }}</h1>\n    <AlertMsg v-if=\"error.msg\" :type=\"error.type\" :msg=\"error.msg\" />\n    <hr />\n    <form name=\"settings-form\" id=\"settings-form\">\n      <div class=\"row\">\n        <div class=\"col-lg-6\">\n          <h2>Characters</h2>\n\n          <h3>Add a new character</h3>\n          <div class=\"mb-3\">\n            <label for=\"inputCharacterID\" class=\"form-label\">Profile URL</label>\n            <input\n              v-model=\"profileURL\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"inputCharacterID\"\n              placeholder=\"https://na.finalfantasyxiv.com/lodestone/character/12345/\"\n            />\n            <div class=\"form-text\">\n              The URL for your character profile. You can find it in\n              <a\n                class=\"text-reset\"\n                href=\"https://na.finalfantasyxiv.com/lodestone/character/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                >Lodestone</a\n              >.\n            </div>\n          </div>\n          <button\n            v-if=\"adding\"\n            type=\"button\"\n            id=\"settings-save-btn\"\n            class=\"btn btn-success\"\n            disabled\n          >\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            Adding, please wait...\n          </button>\n          <button\n            v-else\n            @click=\"addCharacter\"\n            type=\"button\"\n            id=\"settings-save-btn\"\n            class=\"btn btn-success\"\n            :class=\"{ disabled: !profileURL }\"\n          >\n            Add character\n          </button>\n          <br /><br />\n\n          <h3>Your characters</h3>\n          <ul v-if=\"!this.$store.getters.hasCharacter\" class=\"list-group list-group-flush\">\n            <li class=\"list-group-item d-flex justify-content-between align-items-start\">\n              Once you add your characters, they will appear here.\n            </li>\n          </ul>\n          <ul v-else class=\"list-group list-group-flush\">\n            <li\n              v-for=\"(item, i) of this.$store.getters.characters\"\n              :key=\"item.ID\"\n              class=\"list-group-item d-flex justify-content-between align-items-start\"\n            >\n              <div class=\"ms-2 me-auto\">\n                <img\n                  style=\"display: block; float: left; height: 50px\"\n                  class=\"avatar-list\"\n                  :src=\"item.lodestoneData.Character.Avatar\"\n                  alt=\"Portrait of your character\"\n                />\n                <div style=\"float: left\">\n                  <span class=\"fw-bold\">{{ item.lodestoneData.Character.Name }}</span>\n                  â€“ {{ item.lodestoneData.Character.World }}\n                  <br />\n                  <span\n                    v-if=\"\n                      this.updating == item.lodestoneData.Character.ID ||\n                      this.$store.getters.characterOutOfDate(i)\n                    \"\n                    class=\"text-info fw-light\"\n                  >\n                    <div class=\"spinner-border spinner-border-sm\" role=\"status\"></div>\n                    Updating character data...\n                  </span>\n                  <span v-else class=\"text-muted fw-light\">\n                    Last updated {{ lastUpdatedAt(item.updated) }}\n                    <span\n                      v-if=\"\n                        !item.lodestoneData.Achievements ||\n                        item.lodestoneData.Achievements.length == 0\n                      \"\n                      class=\"text-warning\"\n                    >\n                      <br />\n                      <abbr\n                        title=\"The achievements for this characters are not set to public in Lodestone.\"\n                      >\n                        Achievements are not public\n                      </abbr>\n                    </span>\n                  </span>\n                </div>\n              </div>\n              <a\n                v-if=\"!updating && !this.$store.getters.characterOutOfDate(i)\"\n                class=\"bi-arrow-repeat text-secondary cursor-pointer tt\"\n                @click=\"updateCharacter(item.lodestoneData.Character.ID)\"\n              >\n                <span class=\"tt-text\">Update data</span>\n              </a>\n              &nbsp;&nbsp;\n              <a\n                v-if=\"!updating\"\n                class=\"bi-trash text-danger cursor-pointer tt\"\n                @click=\"removeCharacter(i)\"\n              >\n                <span class=\"tt-text\">Remove character</span>\n              </a>\n            </li>\n          </ul>\n          <br />\n        </div>\n        <div class=\"col-lg-6\">\n          <h2>General</h2>\n          <h3>Content spoilers</h3>\n          <div class=\"form-check\">\n            <input\n              v-model=\"settings.spoilersOption\"\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"inputSpoilersOption\"\n              id=\"inputSpoilersOption0\"\n              :value=\"0\"\n            />\n            <label class=\"form-check-label\" for=\"inputSpoilersOption0\">\n              Blur out non-completed story-related encounters\n            </label>\n          </div>\n          <div class=\"form-check\">\n            <input\n              v-model=\"settings.spoilersOption\"\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"inputSpoilersOption\"\n              id=\"inputSpoilersOption1\"\n              :value=\"1\"\n            />\n            <label class=\"form-check-label\" for=\"inputSpoilersOption1\">\n              Blur out all story-related encounters\n            </label>\n          </div>\n          <div class=\"form-check\">\n            <input\n              v-model=\"settings.spoilersOption\"\n              class=\"form-check-input\"\n              type=\"radio\"\n              name=\"inputSpoilersOption\"\n              id=\"inputSpoilersOption2\"\n              :value=\"2\"\n            />\n            <label class=\"form-check-label\" for=\"inputSpoilersOption2\">Show all encounters</label>\n          </div>\n          <div class=\"form-text\">Preference in hiding potential spoilers.</div>\n          <br />\n          <button\n            v-if=\"updatingSettings\"\n            type=\"button\"\n            id=\"settings-save-btn\"\n            class=\"btn btn-success\"\n            disabled\n          >\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            Updating, please wait...\n          </button>\n          <button\n            v-else\n            @click=\"updateSettings\"\n            type=\"button\"\n            id=\"settings-save-btn\"\n            class=\"btn btn-success\"\n          >\n            Update settings\n          </button>\n          <br /><br />\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.avatar-list {\n  border-radius: 50%;\n  height: 43px;\n  margin-right: 10px;\n}\n</style>\n\n<script>\nimport AlertMsg from \"@/components/AlertMsg.vue\";\nimport { updateSettings, addCharacter, removeCharacter } from \"@/utilities/backend.js\";\n\nexport default {\n  name: \"SettingsView\",\n  data() {\n    return {\n      adding: false,\n      updatingSettings: false,\n      updating: 0,\n      error: {},\n      profileURL: \"\",\n      settings: { ...this.$store.getters.settings },\n    };\n  },\n  components: {\n    AlertMsg,\n  },\n  methods: {\n    updateSettings() {\n      this.updatingSettings = true;\n      this.error = {};\n\n      updateSettings(this.settings)\n        .then((response) => {\n          this.$store.commit(\"setSettings\", response);\n\n          this.error = {\n            type: \"success\",\n            msg: `Settings updated!`,\n          };\n        })\n        .catch((err) => {\n          this.error = {\n            type: \"error\",\n            msg: `Settings could not be updated: ${err}`,\n          };\n        })\n        .finally(() => {\n          this.updatingSettings = false;\n        });\n    },\n    addCharacter() {\n      this.adding = true;\n      this.error = {};\n\n      if (this.profileURL.endsWith(\"/\")) this.profileURL = this.profileURL.slice(0, -1);\n      let characterID = this.profileURL.split(\"/\").slice(-1).pop();\n\n      addCharacter(characterID)\n        .then((characterData) => {\n          this.$store.commit(\"addCharacter\", characterData);\n\n          if (\n            !characterData.lodestoneData.Achievements ||\n            characterData.lodestoneData.Achievements.length == 0\n          ) {\n            this.error = {\n              type: \"warning\",\n              msg: `Character <b>${characterData.lodestoneData.Character.Name}</b> added, but their achievements are not set to public. You can change that setting <a href='https://na.finalfantasyxiv.com/lodestone/my/setting/account/' class='alert-link' target='_blank' rel='noopener noreferrer'>here</a>, and then update the character's data.`,\n            };\n          } else {\n            this.error = {\n              type: \"success\",\n              msg: `Character <b>${characterData.lodestoneData.Character.Name}</b> added! You can now access your <a href='/profile' class='alert-link'>Profile</a> and all character completion pages.`,\n            };\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          this.error = { type: \"error\", msg: err.toString() };\n        })\n        .finally(() => {\n          this.profileURL = \"\";\n          this.adding = false;\n        });\n    },\n    updateCharacter(characterID) {\n      this.updating = characterID;\n      this.error = {};\n\n      addCharacter(characterID)\n        .then((characterData) => {\n          this.$store.commit(\"addCharacter\", characterData);\n        })\n        .catch((err) => {\n          console.log(err);\n          this.error = { type: \"error\", msg: err.toString() };\n        })\n        .finally(() => {\n          this.profileURL = \"\";\n          this.updating = null;\n        });\n    },\n    removeCharacter(id) {\n      this.updating = true;\n      this.error = {};\n\n      let characterID = this.$store.getters.characters[id].lodestoneData.Character.ID;\n      let characterName = this.$store.getters.characters[id].lodestoneData.Character.Name;\n\n      removeCharacter(characterID)\n        .then(() => {\n          this.$store.commit(\"removeCharacter\", id);\n\n          this.error = {\n            type: \"success\",\n            msg: `Character <b>${characterName}</b> removed!`,\n          };\n        })\n        .catch((err) => {\n          console.log(err);\n          this.error = { type: \"error\", msg: err.toString() };\n        })\n        .finally(() => {\n          this.updating = false;\n        });\n    },\n    lastUpdatedAt(timestamp) {\n      let now = new Date() / 1000;\n      let diff = now - timestamp;\n      let months = Math.floor(diff / (60 * 60 * 24 * 30));\n      let days = Math.floor(diff / (60 * 60 * 24));\n      let hours = Math.floor(diff / (60 * 60));\n      let minutes = Math.floor(diff / 60);\n\n      if (minutes < 2) return \"a couple seconds ago\";\n      else if (minutes < 120) return minutes + \" minutes ago\";\n      else if (hours < 48) return hours + \" hours ago\";\n      else if (days < 60) return days + \" days ago\";\n      else return months + \" months ago\";\n    },\n  },\n};\n</script>\n","import { render } from \"./Settings.vue?vue&type=template&id=df4dc062\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=df4dc062&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/xivtodo/xivtodo/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","name","id","for","href","target","rel","type","disabled","role","_hoisted_12","_hoisted_19","style","_hoisted_28","title","_hoisted_33","_hoisted_34","_hoisted_37","_hoisted_41","_hoisted_56","_createElementBlock","_toDisplayString","_ctx","$data","msg","_createBlock","_component_AlertMsg","_hoisted_2","_hoisted_6","_hoisted_7","_hoisted_9","$event","placeholder","_hoisted_10","_hoisted_14","onClick","$options","_hoisted_15","_hoisted_16","_hoisted_17","$store","getters","hasCharacter","_Fragment","_renderList","characters","item","i","key","ID","src","lodestoneData","Character","Avatar","alt","Name","World","_hoisted_26","updating","characterOutOfDate","_hoisted_30","updated","Achievements","length","_hoisted_35","_hoisted_20","_hoisted_43","_hoisted_45","_hoisted_46","spoilersOption","value","_hoisted_48","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_58","_hoisted_59","_hoisted_60","data","adding","updatingSettings","error","profileURL","settings","this","components","AlertMsg","methods","updateSettings","then","response","commit","catch","err","finally","addCharacter","endsWith","slice","characterID","split","pop","characterData","console","log","toString","updateCharacter","removeCharacter","characterName","lastUpdatedAt","timestamp","now","Date","diff","months","Math","floor","days","hours","minutes","__exports__","render"],"sourceRoot":""}